<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bitcoin Trivia Game</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #f7931a 0%, #ff9500 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .game-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.2);
            max-width: 600px;
            width: 100%;
            overflow: hidden;
        }
        
        .game-header {
            background: #2c3e50;
            color: white;
            padding: 2rem;
            text-align: center;
        }
        
        .game-header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }
        
        .level-info {
            display: flex;
            justify-content: space-between;
            padding: 1rem 2rem;
            background: #34495e;
            color: white;
        }
        
        .menu {
            padding: 2rem;
            text-align: center;
        }
        
        .menu h2 {
            margin-bottom: 2rem;
            color: #2c3e50;
        }
        
        .menu-notice {
            background: #e3f2fd;
            border: 2px solid #2196f3;
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 2rem;
            color: #1976d2;
            font-weight: bold;
        }
        
        .menu-notice a {
            color: #1976d2;
            text-decoration: underline;
        }
        
        .menu-buttons {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .btn {
            padding: 1rem 2rem;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            display: inline-block;
        }
        
        .btn-primary {
            background: #f7931a;
            color: white;
        }
        
        .btn-primary:hover {
            background: #e8821a;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(247, 147, 26, 0.3);
        }
        
        .btn-secondary {
            background: #95a5a6;
            color: white;
        }
        
        .btn-secondary:hover {
            background: #7f8c8d;
        }
        
        .btn-link {
            background: transparent;
            color: #3498db;
            border: 2px solid #3498db;
        }
        
        .btn-link:hover {
            background: #3498db;
            color: white;
        }
        
        .game-content {
            padding: 2rem;
            display: none;
        }
        
        .question-container {
            margin-bottom: 2rem;
        }
        
        .question {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            color: #2c3e50;
        }
        
        .options {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .option {
            padding: 1rem;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            background: white;
        }
        
        .option:hover {
            border-color: #f7931a;
            background: #fff5e6;
        }
        
        .option.selected {
            border-color: #3498db;
            background: #e3f2fd;
        }
        
        .option.correct {
            border-color: #27ae60;
            background: #d4edda;
        }
        
        .option.incorrect {
            border-color: #e74c3c;
            background: #f8d7da;
        }
        
        .option.disabled {
            cursor: not-allowed;
            opacity: 0.7;
        }
        
        .progress-bar {
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            margin-bottom: 2rem;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: #f7931a;
            transition: width 0.5s;
        }
        
        .explanation {
            background: #e8f4f8;
            border-left: 4px solid #3498db;
            padding: 1rem;
            margin-top: 1rem;
            border-radius: 4px;
            display: none;
        }
        
        .explanation.show {
            display: block;
        }
        
        .stats {
            display: flex;
            justify-content: space-around;
            padding: 1rem;
            background: #f8f9fa;
            border-radius: 8px;
            margin-top: 1rem;
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: #666;
        }
        
        .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: #2c3e50;
        }
        
        .footer-links {
            padding: 2rem;
            background: #f8f9fa;
            display: flex;
            justify-content: center;
            gap: 2rem;
        }
        
        .footer-links a {
            color: #666;
            text-decoration: none;
            font-size: 0.9rem;
        }
        
        .footer-links a:hover {
            color: #f7931a;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="game-header">
            <h1>âš¡ Bitcoin Trivia Challenge</h1>
            <p>Test your Bitcoin knowledge across 30 levels with 425 questions!</p>
        </div>
        
        <div id="menu" class="menu">
            <h2>Welcome to Bitcoin Trivia!</h2>
            <p style="margin-bottom: 2rem;">Challenge yourself with questions ranging from Bitcoin basics to expert-level knowledge.</p>
            
            <div class="menu-notice">
                ðŸŽ‰ NEW! Check out our <a href="main-menu.html">Enhanced Game Modes</a> including Story Mode, Challenge Mode, and Community Features!
            </div>
            
            <div class="menu-buttons">
                <button class="btn btn-primary" onclick="startGame()">Start Classic Game</button>
                <button class="btn btn-secondary" onclick="selectLevel()">Select Level</button>
                <a href="main-menu.html" class="btn btn-primary">Explore All Game Modes</a>
                <a href="submit.html" class="btn btn-link">Submit a Question</a>
            </div>
            
            <div class="stats" style="margin-top: 2rem;">
                <div class="stat-item">
                    <div class="stat-label">Total Levels</div>
                    <div class="stat-value">30</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">Questions</div>
                    <div class="stat-value">425</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">Difficulty</div>
                    <div class="stat-value">1-10</div>
                </div>
            </div>
        </div>
        
        <div id="game" class="game-content">
            <div class="level-info">
                <span>Level <span id="currentLevel">1</span></span>
                <span>Question <span id="currentQuestion">1</span> of 12</span>
                <span>Score: <span id="score">0</span></span>
            </div>
            
            <div class="progress-bar">
                <div id="progress" class="progress-fill" style="width: 0%"></div>
            </div>
            
            <div class="question-container">
                <div id="question" class="question"></div>
                <div id="options" class="options"></div>
                <div id="explanation" class="explanation"></div>
            </div>
            
            <div style="display: flex; gap: 1rem; justify-content: center;">
                <button id="nextBtn" class="btn btn-primary" onclick="nextQuestion()" style="display: none;">Next Question</button>
                <button class="btn btn-secondary" onclick="backToMenu()">Back to Menu</button>
            </div>
        </div>
        
        <div class="footer-links">
            <a href="https://bitcoin.org" target="_blank">Learn about Bitcoin</a>
            <a href="submit.html">Submit Questions</a>
            <a href="admin.html">Admin</a>
        </div>
    </div>
    
    <script>
        let questions = [];
        let currentLevel = 1;
        let currentQuestionIndex = 0;
        let score = 0;
        let levelQuestions = [];
        let selectedAnswer = null;
        
        // Load questions
        async function loadQuestions() {
            try {
                const response = await fetch('data/questions-levels-1-3.json');
                const data = await response.json();
                questions = data.questions;
            } catch (error) {
                console.error('Error loading questions:', error);
                // Use sample questions for demo
                questions = [
                    {
                        id: "q001",
                        question: "Who is the pseudonymous creator of Bitcoin?",
                        options: {
                            a: "Vitalik Buterin",
                            b: "Satoshi Nakamoto",
                            c: "Nick Szabo",
                            d: "Hal Finney"
                        },
                        correct_answer: "b",
                        difficulty: 1,
                        level: 1,
                        explanation: "Satoshi Nakamoto is the pseudonym used by the unknown person or group who created Bitcoin."
                    }
                ];
            }
        }
        
        function startGame() {
            currentLevel = 1;
            currentQuestionIndex = 0;
            score = 0;
            loadLevel(currentLevel);
            showGame();
        }
        
        function selectLevel() {
            // In a full implementation, show level selection screen
            const level = prompt('Select level (1-3 available):', '1');
            if (level && parseInt(level) >= 1 && parseInt(level) <= 3) {
                currentLevel = parseInt(level);
                currentQuestionIndex = 0;
                loadLevel(currentLevel);
                showGame();
            }
        }
        
        function loadLevel(level) {
            levelQuestions = questions.filter(q => q.level === level);
            if (levelQuestions.length === 0) {
                alert('No questions available for this level yet.');
                backToMenu();
                return;
            }
            displayQuestion();
        }
        
        function displayQuestion() {
            const question = levelQuestions[currentQuestionIndex];
            if (!question) return;
            
            document.getElementById('currentLevel').textContent = currentLevel;
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            document.getElementById('question').textContent = question.question;
            
            const optionsDiv = document.getElementById('options');
            optionsDiv.innerHTML = '';
            
            Object.entries(question.options).forEach(([key, value]) => {
                const option = document.createElement('div');
                option.className = 'option';
                option.innerHTML = `<strong>${key.toUpperCase()}:</strong> ${value}`;
                option.onclick = () => selectOption(key, question);
                optionsDiv.appendChild(option);
            });
            
            document.getElementById('explanation').className = 'explanation';
            document.getElementById('explanation').innerHTML = '';
            document.getElementById('nextBtn').style.display = 'none';
            selectedAnswer = null;
            
            updateProgress();
        }
        
        function selectOption(answer, question) {
            if (selectedAnswer) return;
            
            selectedAnswer = answer;
            const options = document.querySelectorAll('.option');
            
            options.forEach((option, index) => {
                option.classList.add('disabled');
                const optionKey = Object.keys(question.options)[index];
                
                if (optionKey === answer) {
                    option.classList.add('selected');
                }
                
                if (optionKey === question.correct_answer) {
                    option.classList.add('correct');
                } else if (optionKey === answer) {
                    option.classList.add('incorrect');
                }
            });
            
            if (answer === question.correct_answer) {
                score++;
                document.getElementById('score').textContent = score;
            }
            
            const explanationDiv = document.getElementById('explanation');
            explanationDiv.innerHTML = `<strong>Explanation:</strong> ${question.explanation}`;
            explanationDiv.classList.add('show');
            
            document.getElementById('nextBtn').style.display = 'inline-block';
        }
        
        function nextQuestion() {
            currentQuestionIndex++;
            
            if (currentQuestionIndex >= levelQuestions.length) {
                // Level complete
                alert(`Level ${currentLevel} complete! Score: ${score}/${levelQuestions.length}`);
                currentLevel++;
                currentQuestionIndex = 0;
                
                if (currentLevel > 3) {
                    alert('Congratulations! You\'ve completed all available levels. More levels coming soon!');
                    backToMenu();
                } else {
                    loadLevel(currentLevel);
                }
            } else {
                displayQuestion();
            }
        }
        
        function updateProgress() {
            const progress = ((currentQuestionIndex + 1) / levelQuestions.length) * 100;
            document.getElementById('progress').style.width = progress + '%';
        }
        
        function showGame() {
            document.getElementById('menu').style.display = 'none';
            document.getElementById('game').style.display = 'block';
        }
        
        function backToMenu() {
            document.getElementById('menu').style.display = 'block';
            document.getElementById('game').style.display = 'none';
        }
        
        // Initialize
        loadQuestions();
    </script>
</body>
</html>